jQuery.sap.registerPreloadedModules({"name":"cus/crm/myaccounts/Component-preload","version":"2.0","modules":{"cus/crm/myaccounts/Component.js":function(){
/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("cus.crm.myaccounts.Component");jQuery.sap.require("sap.ca.scfld.md.ComponentBase");jQuery.sap.require("sap.ui.core.routing.HashChanger");sap.ca.scfld.md.ComponentBase.extend("cus.crm.myaccounts.Component",{metadata:sap.ca.scfld.md.ComponentBase.createMetaData("FS",{"name":"My Accounts","version":"1.0.16","library":"cus.crm.myaccounts","includes":[],"dependencies":{"libs":["sap.m","sap.me"],"components":[]},"config":{"resourceBundle":"i18n/i18n.properties","titleResource":"FULLSCREEN_TITLE","icon":"sap-icon://Fiori2/F0002","favIcon":"./resources/sap/ca/ui/themes/base/img/favicon/F0002_My_Accounts.ico","homeScreenIconPhone":"./resources/sap/ca/ui/themes/base/img/launchicon/F0002_My_Accounts/57_iPhone_Desktop_Launch.png","homeScreenIconPhone@2":"./resources/sap/ca/ui/themes/base/img/launchicon/F0002_My_Accounts/114_iPhone-Retina_Web_Clip.png","homeScreenIconTablet":"./resources/sap/ca/ui/themes/base/img/launchicon/F0002_My_Accounts/72_iPad_Desktop_Launch.png","homeScreenIconTablet@2":"./resources/sap/ca/ui/themes/base/img/launchicon/F0002_My_Accounts/144_iPad_Retina_Web_Clip.png","startupImage320x460":"./resources/sap/ca/ui/themes/base/img/splashscreen/320_x_460.png","startupImage640x920":"./resources/sap/ca/ui/themes/base/img/splashscreen/640_x_920.png","startupImage640x1096":"./resources/sap/ca/ui/themes/base/img/splashscreen/640_x_1096.png","startupImage768x1004":"./resources/sap/ca/ui/themes/base/img/splashscreen/768_x_1004.png","startupImage748x1024":"./resources/sap/ca/ui/themes/base/img/splashscreen/748_x_1024.png","startupImage1536x2008":"./resources/sap/ca/ui/themes/base/img/splashscreen/1536_x_2008.png","startupImage1496x2048":"./resources/sap/ca/ui/themes/base/img/splashscreen/1496_x_2048.png"},viewPath:"cus.crm.myaccounts.view",fullScreenPageRoutes:{"S2":{pattern:"",view:"S2",},"mainPage":{pattern:"mainPage/{filterState}",view:"S2",},"detail":{pattern:"detail/{contextPath}",view:"S360",},"edit":{pattern:"edit/{contextPath}",view:"maintain.GeneralDataEdit",},"new":{pattern:"new/{accountCategory}",view:"maintain.GeneralDataEdit",},"AccountNotes":{pattern:"AccountNotes/{contextPath}",view:"S4Notes",},"AccountAttachments":{pattern:"AccountAttachments/{contextPath}",view:"S4Attachments",}}}),createContent:function(){var v={component:this};return sap.ui.view({viewName:"cus.crm.myaccounts.Main",type:sap.ui.core.mvc.ViewType.XML,viewData:v})},init:function(){var m=this,c,a;if(m&&m.getComponentData()&&m.getComponentData().startupParameters){jQuery.sap.log.debug("startup parameters are "+JSON.stringify(m.getComponentData().startupParameters));if(undefined!=m.getComponentData().startupParameters.accountID[0]){a=m.getComponentData().startupParameters.accountID[0]}}if(a){if(undefined==this.getRouter().oHashChanger){this.getRouter().oHashChanger=sap.ui.core.routing.HashChanger.getInstance()}c="AccountCollection('"+a+"')";this.getRouter().navTo("detail",{contextPath:c},true)}},})},"cus/crm/myaccounts/Configuration.js":function(){jQuery.sap.declare("cus.crm.myaccounts.Configuration");jQuery.sap.require("sap.ca.scfld.md.app.Application");jQuery.sap.require("cus.crm.myaccounts.util.Util");sap.ca.scfld.md.ConfigurationBase.extend("cus.crm.myaccounts.Configuration",{oServiceParams:{serviceList:[{name:"CRM_BUPA_ODATA",serviceUrl:"/sap/opu/odata/sap/CRM_BUPA_ODATA",countSupported:true,isDefault:true,mockedDataSource:"model/metadata.xml"}]},getServiceList:function(){return this.oServiceParams.serviceList},setApplicationFacade:function(a){sap.ca.scfld.md.ConfigurationBase.prototype.setApplicationFacade.call(this,a);cus.crm.myaccounts.util.Util.setApplicationFacade(a)}})},"cus/crm/myaccounts/Main.controller.js":function(){sap.ui.controller("cus.crm.myaccounts.Main",{onInit:function(){jQuery.sap.require("sap.ca.scfld.md.Startup");sap.ca.scfld.md.Startup.init('cus.crm.myaccounts',this)},onExit:function(){}})},"cus/crm/myaccounts/Main.view.xml":'<!--\n\n    Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved\n\n-->\n<core:View xmlns:core="sap.ui.core"\n\txmlns="sap.m" controllerName="cus.crm.myaccounts.Main" displayBlock="true"\n\theight="100%">\n\t<App id="fioriContent" showHeader="false">                                                              \t\n\t</App>  \n</core:View>',"cus/crm/myaccounts/controller/Base360Controller.js":function(){jQuery.sap.declare("cus.crm.myaccounts.controller.Base360Controller");jQuery.sap.require("sap.ui.core.mvc.Controller");jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");sap.ca.scfld.md.controller.BaseFullscreenController.extend("cus.crm.myaccounts.controller.Base360Controller",{getTargetAggregation:function(){return"content"},getControl:function(){},getTargetBinding:function(){var c=this.getControl();if(c){return this.getControl().getBinding(this.getTargetAggregation())}return undefined}})},"cus/crm/myaccounts/util/Constants.js":function(){cus.crm.myaccounts.util.Constants={accountCategoryPerson:"1",accountCategoryCompany:"2",accountCategoryGroup:"3",}},"cus/crm/myaccounts/util/Util.js":function(){jQuery.sap.declare("cus.crm.myaccounts.util.Util");jQuery.sap.require("sap.ca.ui.quickoverview.Quickoverview");cus.crm.myaccounts.util.Util={setApplicationFacade:function(a){this.oApplicationFacade=a},geti18NResourceBundle:function(){if(this.oApplicationFacade){return this.oApplicationFacade.getResourceBundle()}else{return null}},geti18NText:function(k){if(this.geti18NResourceBundle()){return this.geti18NResourceBundle().getText(k)}else{return null}},geti18NText1:function(k,r){if(this.geti18NResourceBundle()){return this.geti18NResourceBundle().getText(k,r)}else{return null}},openQuickoverview:function(p,t,s,a,c,b,d,C,e,f){var g=c.getPath();var m=c.getModel();var h=C.getPath();var M=C.getModel();var o={};o.Company={};o.Company.Address=M.getProperty(h+"/"+e);o.Company.name=cus.crm.myaccounts.util.formatter.AccountNameFormatter(M.getProperty(h).fullName,M.getProperty(h).name1);o.Person=m.getProperty(g+"/"+b);var j="";if(o.Person&&d){j=m.getProperty(g+"/"+b+"/"+d);o.Person.Address=j}var B=new sap.ui.model.json.JSONModel();B.setData(o);var k,l;if(a){k=false;l=a}else{k=true;l=""}var n={popoverHeight:"32rem",title:p,headerNoIcon:k,headerImgURL:l,headerTitle:t,headerSubTitle:s,subViewName:"cus.crm.myaccounts.view.overview.Quickoverview",oModel:B};var q=new sap.ca.ui.quickoverview.Quickoverview(n);q.openBy(f);if(!o.Person||!j){m.read(b,c,["$expand="+d],true,function(D,r){var P=jQuery.parseJSON(JSON.stringify(D));o.Person=P;o.Person.Address=P[d];var u=sap.ui.getCore().byId("cus.crm.myaccounts.view.overview.Quickoverview").byId("quickOverviewForm1");var v;for(var i in u.getContent()){v=sap.ui.getCore().byId(u.getContent()[i].getId());var w=v.getBindingInfo("text");if(w)w.binding.refresh()}},function(E){jQuery.sap.log.error("Read failed in Util.js:"+E.response.body)})}if(!o.Company.Address){this.readODataObject(C,e,function(){})}},readODataObjects:function(c,r,a){var C=c.getModel().getProperty(c.sPath);if(c.getModel().getProperty(c.sPath+"/"+r)){a(c.getModel().getProperty(c.sPath+"/"+r));return}var i=new sap.m.StandardListItem({text:""});var l=new sap.m.List({items:{path:r,template:i}});l.setModel(c.getModel());l.setBindingContext(c);var b=l.getBinding("items");var R=null;R=jQuery.proxy(function(d){if(d.getSource().aKeys.length>0)C[r]={__list:d.getSource().aKeys};else C[r]=null;b.detachDataReceived(R);l.destroy();a(c.getModel().getProperty(c.sPath+"/"+r))},this);b.attachDataReceived(R)},readODataObject:function(c,r,a,f){var C=c.getModel().getProperty(c.sPath);if(c.getModel().getProperty(c.sPath+"/"+r)&&!f){a(c.getModel().getProperty(c.sPath+"/"+r));return}var l=new sap.m.List();l.bindElement(c.sPath+"/"+r);l.setModel(c.getModel());l.setBindingContext(c);var b=l.getElementBinding();var R=null;R=jQuery.proxy(function(d){if(d.getSource().getBoundContext())C[r]={__ref:d.getSource().getBoundContext().sPath.substr(1)};else C[r]=null;b.detachDataReceived(R);l.destroy();a(c.getModel().getProperty(c.sPath+"/"+r))},this);b.attachDataReceived(R)},getRefreshUIObject:function(m,c,e){if(!this.refreshList)this.refreshList=new sap.m.List();var l=this.refreshList;if(e)l.bindElement(c,{expand:e});else l.bindElement(c);l.setModel(m);var b=l.getElementBinding();var C=null;C=jQuery.proxy(function(a){if(b)b.detachDataRequested(C);b=null},this);b.attachDataRequested(C);var r={refresh:function(){if(b)b.refresh()},destroy:function(){C()},};return r},getServiceSchemaVersion:function(m,e){var v=0;var E=m.oMetadata._getEntityTypeByPath(e);for(var i in E.extensions){if(E.extensions[i].name=="service-schema-version")v=E.extensions[i].value}return v}}},"cus/crm/myaccounts/util/formatter.js":function(){jQuery.sap.declare("cus.crm.myaccounts.util.formatter");jQuery.sap.require("sap.ca.ui.model.format.DateFormat");jQuery.sap.require("sap.ca.ui.model.format.NumberFormat");jQuery.sap.require("sap.ca.ui.model.format.AmountFormat");cus.crm.myaccounts.util.formatter={};cus.crm.myaccounts.util.formatter.formatMediumTimeInterval=function(f,t){if(f&&t){if(f.getYear()==t.getYear()&&f.getMonth()==t.getMonth()&&f.getDay()==t.getDay())return sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(f);else{return sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(f)+" - "+sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(t)}}else{return""}};cus.crm.myaccounts.util.formatter.formatMediumDate=function(v){if(v){return sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(v)}else{return""}};cus.crm.myaccounts.util.formatter.formatLongDate=function(v){if(v){return sap.ca.ui.model.format.DateFormat.getDateInstance({style:"long"}).format(v)}else{return""}};cus.crm.myaccounts.util.formatter.formatShortDate=function(v){if(v){return sap.ca.ui.model.format.DateFormat.getDateInstance({style:"short"}).format(v)}else{return""}};cus.crm.myaccounts.util.formatter.formatAmounts=function(v,c){if(v>0){return sap.ca.ui.model.format.AmountFormat.FormatAmountStandardWithCurrency(v,c)}return""};cus.crm.myaccounts.util.formatter.formatShortAmounts=function(v,c){if(v>0){return sap.ca.ui.model.format.AmountFormat.FormatAmountShortWithCurrency(v,c)}return""};cus.crm.myaccounts.util.formatter.formatShortNumber=function(v,c){if(v>0){return sap.ca.ui.model.format.AmountFormat.FormatAmountShort(v,c)}return""};cus.crm.myaccounts.util.formatter.formatEmployeeResponsible=function(f){if(f){return f}else{return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("EMPLOYEE_RESPONSIBLE")}};cus.crm.myaccounts.util.formatter.formatMediumDateTime=function(v){if(v){return sap.ca.ui.model.format.DateFormat.getDateTimeInstance({style:"medium"}).format(v)}else{return""}};cus.crm.myaccounts.util.formatter.formatStartDate=function(v){if(v){var d=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(v);return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("STARTING",[d])}else{return""}};cus.crm.myaccounts.util.formatter.formatCloseDate=function(v){if(v){var d=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(v);return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("CLOSING",[d])}else{return""}};cus.crm.myaccounts.util.formatter.formatDueDate=function(v){if(v){var d=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"medium"}).format(v);return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("DUE",[d])}else{return""}};cus.crm.myaccounts.util.formatter.mimeTypeFormatter=function(v){switch(v){case'application/vnd.openxmlformats-officedocument.presentationml.presentation':case'application/vnd.ms-powerpoint':return'pptx';break;case'application/msword':case'application/vnd.openxmlformats-officedocument.wordprocessingml.document':return'doc';break;case'application/vnd.ms-excel':case'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':return'xls';break;case'image/jpeg':case'image/png':case'image/tiff':case'image/gif':return'jpg';break;case'application/pdf':return'pdf';break;case'text/plain':return'txt';break;default:return'unknown'}};cus.crm.myaccounts.util.formatter.getRelativePathFromURL=function(a){var u=document.createElement('a');u.href=a;if(u.pathname.substring(0,1)=="/")return u.pathname;else return"/"+u.pathname};cus.crm.myaccounts.util.formatter.logoUrlFormatter=function(m,c){if(m){return cus.crm.myaccounts.util.formatter.getRelativePathFromURL(m)}else{switch(c){case'1':return"sap-icon://person-placeholder";break;case'2':return"sap-icon://factory";break;case'3':return"sap-icon://group";break;default:return"sap-icon://factory"}}};cus.crm.myaccounts.util.formatter.urlFormatter=function(v){var s,S,a,b,u,c;s=jQuery.sap.getUriParameters().get("sap-server");S=jQuery.sap.getUriParameters().get("sap-host");a=jQuery.sap.getUriParameters().get("sap-host-http");b=jQuery.sap.getUriParameters().get("sap-client");u=URI(location.protocol+"//"+location.hostname+(location.port?':'+location.port:'')+cus.crm.myaccounts.util.formatter.getRelativePathFromURL(v));c=location.protocol.replace(':','');if(c!==u.protocol()){u.protocol(c)}if(s){u.addSearch('sap-server',s)}if(S){u.addSearch('sap-host',S)}if(a){u.addSearch('sap-host-http',a)}if(b){u.addSearch('sap-client',b)}return u.toString()};cus.crm.myaccounts.util.formatter.logoVisibilityFormatter=function(m){if(m){return true}else{return false}};cus.crm.myaccounts.util.formatter.locationFormatter=function(c,C){if(!c){return C}else if(!C){return c}else{return sap.ca.scfld.md.app.Application.getImpl().getResourceBundle().getText("LOCATION",[c,C])}};cus.crm.myaccounts.util.formatter.comaSeparator=function(v,a){var s=v;if(a)return s?s+", "+a:a;return s};cus.crm.myaccounts.util.formatter.sleshSeparator=function(v,a){var s=v;if(a)return s?s+" / "+a:a;return s};cus.crm.myaccounts.util.formatter.AccountNameFormatter=function(f,n){if(f){return f}else{return n}};cus.crm.myaccounts.util.formatter.isEqual=function(v,a){if(typeof(v)=="string"&&typeof(a)=="string"){return v.valueOf()==a.valueOf()}else{return v==a}};cus.crm.myaccounts.util.formatter.isUnequal=function(v,a){if(typeof(v)=="string"&&typeof(a)=="string"){return v.valueOf()!=a.valueOf()}else{return v!=a}};cus.crm.myaccounts.util.formatter.AccountSpecificText=function(t,a,b,c){switch(c){case cus.crm.myaccounts.util.Constants.accountCategoryPerson:return t;break;case cus.crm.myaccounts.util.Constants.accountCategoryCompany:return a;break;case cus.crm.myaccounts.util.Constants.accountCategoryGroup:return b;break}}},"cus/crm/myaccounts/view/S2.controller.js":function(){jQuery.sap.require("cus.crm.myaccounts.controller.Base360Controller");jQuery.sap.require("sap.ca.ui.quickoverview.EmployeeLaunch");jQuery.sap.require("cus.crm.myaccounts.util.formatter");jQuery.sap.require("sap.ca.ui.model.format.AmountFormat");jQuery.sap.require("cus.crm.myaccounts.util.Constants");jQuery.sap.require("cus.crm.myaccounts.util.Util");cus.crm.myaccounts.controller.Base360Controller.extend("cus.crm.myaccounts.view.S2",{onInit:function(){cus.crm.myaccounts.controller.Base360Controller.prototype.onInit.call(this);this.resourceBundle=this.oApplicationFacade.getResourceBundle();var m=new sap.ui.model.json.JSONModel({isRefreshing:false,searchValue:"",selectedKey:"MyAccount",threshold:this.getThreshold(),items:[{text:this.resourceBundle.getText("MY_ACCOUNT"),key:"MyAccount"},{text:this.resourceBundle.getText("ALL_ACCOUNTS"),key:"All"}]});var M=this.getView().getModel();M.forceNoCache(true);this.getView().setModel(m,"config");this.oRouter.attachRouteMatched(this.handleNavTo,this);this.backendSupportsCreate=cus.crm.myaccounts.util.Util.getServiceSchemaVersion(M,"AccountCollection")>0},destroy:function(){var b=this.getTargetBinding();b.detachChange(this._fnOnBindingChange)},handleNavTo:function(e){if(e.getParameter("name")==="mainPage"){var a=e.getParameter("arguments");if(a.filterState==="All")this.getView().getModel('config').setProperty("/selectedKey","All");else this.getView().getModel('config').setProperty("/selectedKey","MyAccount")}if(e.getParameter("name")==="S2"||e.getParameter("name")==="mainPage"){jQuery.sap.log.info("My accounts nav to "+e.getParameter("name"));jQuery.sap.delayedCall(2000,this,function(){this.byId("myPullToRefresh").hide()});this._bindGrowingTileContainer()}},_bindGrowingTileContainer:function(){if(!this.getView().byId("myOverviewTile"))return;var g=this.getControl(),b,o;g.setGrowingThreshold(this.getThreshold()).setGrowing(true);g.bindAggregation("content",{path:'/AccountCollection',filters:this._getFilters(),parameters:{expand:'MainContact,Classification,MainAddress,Logo,AccountFactsheet',select:'*,MainContact,Classification,MainAddress,Logo,AccountFactsheet/opportunityVolume,AccountFactsheet/revenueCurrentYear,AccountFactsheet/lastContact,AccountFactsheet/nextContact'},template:this.getView().byId("myOverviewTile").clone(),});this._fnOnBindingChange=jQuery.proxy(this.onBindingChange,this);b=this.getTargetBinding();b.attachChange(this._fnOnBindingChange);o=this._getHeaderFooterOptions();this.setHeaderFooterOptions(o)},getControl:function(){return this._getTileContainer()},getTargetAggregation:function(){return"content"},_getTileContainer:function(){return this.byId("tileContainer")},_isMyAccount:function(){var k=this.getView().getModel('config').getProperty("/selectedKey");return(k==="MyAccount")?true:false},isBackendSearch:function(){return true},applyBackendSearchPattern:function(f,b){var a=this._getFilters(),b=this.getControl().getBinding(this.getTargetAggregation());b.aApplicationFilters=[];b.filter(a)},onTileTap:function(e){this.oRouter.navTo("detail",{contextPath:e.getSource().getBindingContext().sPath.replace('/',"")})},openBusinessCard:function(e){var E={};if(e){var s=e.oSource;if(s){var c=s.getBindingContext();if(c){E={name:c.getProperty("MainContact/fullName"),imgurl:this.photoUrlFormatter(c.getProperty("MainContact/Photo/__metadata/media_src")),department:c.getProperty("MainContact/department"),mobilephone:c.getProperty("MainContact/WorkAddress/mobilePhone"),officephone:c.getProperty("MainContact/WorkAddress/phone"),email:c.getProperty("MainContact/WorkAddress/email"),companyname:c.getProperty("MainContact/company"),companyaddress:c.getProperty("MainContact/WorkAddress/address")};var o=new sap.ca.ui.quickoverview.EmployeeLaunch(E);o.openBy(e.getParameters())}}}},logoUrlFormatter:function(m){return m?m:"sap-icon://factory"},photoUrlFormatter:function(m){if(m){return cus.crm.myaccounts.util.formatter.getRelativePathFromURL(m)}else{return"sap-icon://person-placeholder"}},_getHeaderFooterOptions:function(){var c=this;var b=[];if(this.backendSupportsCreate){b.push({sI18nBtnTxt:"BUTTON_ADD",onBtnPressed:function(e){c._addAccount(e)}})}return{buttonList:b,oFilterOptions:{aFilterItems:this.getView().getModel('config').getProperty("/items"),sSelectedItemKey:this.getView().getModel('config').getProperty("/selectedKey"),onFilterSelected:function(k){jQuery.sap.log.info(k+" has been selected");c.getView().getModel('config').setProperty("/selectedKey",k);c.handleFilter()}},oAddBookmarkSettings:{icon:"sap-icon://Fiori2/F0002"}}},_addAccount:function(e){var t=this;var c=this._getPossibleAccountCategories();var b=[];for(var i in c){switch(c[i]){case cus.crm.myaccounts.util.Constants.accountCategoryCompany:b.push(new sap.m.Button({text:this.resourceBundle.getText("CORPORATE_ACCOUNT"),press:function(){t._navigateToCreateScreen(cus.crm.myaccounts.util.Constants.accountCategoryCompany)}}));break;case cus.crm.myaccounts.util.Constants.accountCategoryPerson:b.push(new sap.m.Button({text:this.resourceBundle.getText("INDIVIDUAL_ACCOUNT"),press:function(){t._navigateToCreateScreen(cus.crm.myaccounts.util.Constants.accountCategoryPerson)}}));break;case cus.crm.myaccounts.util.Constants.accountCategoryGroup:b.push(new sap.m.Button({text:this.resourceBundle.getText("ACCOUNT_GROUP"),press:function(){t._navigateToCreateScreen(cus.crm.myaccounts.util.Constants.accountCategoryGroup)}}));break}}if(!this.oCreateAccountActionSheet){this.oCreateAccountActionSheet=new sap.m.ActionSheet("AddAccountActionSheet",{buttons:b,placement:sap.m.PlacementType.Top,})}this.oCreateAccountActionSheet.openBy(e.getSource())},_getPossibleAccountCategories:function(){return[cus.crm.myaccounts.util.Constants.accountCategoryCompany,cus.crm.myaccounts.util.Constants.accountCategoryPerson,cus.crm.myaccounts.util.Constants.accountCategoryGroup]},_navigateToCreateScreen:function(a){var p;p={accountCategory:a,};this.oRouter.navTo("new",p,false)},handleFilter:function(){var f=this._getFilters(),l=this.getTargetBinding();l.aApplicationFilters=[];l.filter(f);this._setFilterInURL()},_setFilterInURL:function(){var p={};p.filterState=this.getView().getModel('config').getProperty("/selectedKey");this.oRouter.navTo("mainPage",p,true)},_getFilters:function(){var f=[],v=this.getView().getModel("config").getProperty("/searchValue"),i=this._isMyAccount();if(v&&v.length>0){f.push(new sap.ui.model.Filter("name1",sap.ui.model.FilterOperator.Contains,v))}f.push(new sap.ui.model.Filter("isMyAccount",sap.ui.model.FilterOperator.EQ,i));return f},refreshList:function(e){jQuery.sap.delayedCall(2000,this,function(){this.byId("myPullToRefresh").hide()});var c=this.getControl(),i=this.getView().getModel("config").getProperty("/isRefreshing"),b=c.getBinding(this.getTargetAggregation()),r=jQuery.proxy(function(){this.getView().getModel("config").setProperty("/isRefreshing",false);b.detachDataReceived(r);sap.ca.ui.utils.busydialog.releaseBusyDialog()},this),R=jQuery.proxy(function(){this.getView().getModel("config").setProperty("/isRefreshing",true);sap.ca.ui.utils.busydialog.requireBusyDialog();b.detachDataRequested(R)},this),v;b.attachDataRequested(R);b.attachDataReceived(r);if(this.isBackendSearch()&&!i){v=this.getView().getModel("config").getProperty("/searchValue");this.applyBackendSearchPattern(v,b)}},onBindingChange:function(){var i=this._isMyAccount()?"MY_ACCOUNT_TITLE":"ALL_ACCOUNTS_TITLE",c=0,b=this.getTargetBinding();if(b){c=b.getLength()}(c>0)?this._oControlStore.oTitle.setText(this.resourceBundle.getText(i,c)):this._oControlStore.oTitle.setText(this.resourceBundle.getText("FULLSCREEN_TITLE"))},getThreshold:function(){if(jQuery.device.is.phone){return 3}else{return 10}}})},"cus/crm/myaccounts/view/S2.view.xml":'<!--\n\n    Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved\n\n-->\n<core:View xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:ca="sap.ca.ui"\n\txmlns:layout="sap.ui.layout" controllerName="cus.crm.myaccounts.view.S2"\n\tdisplayBlock="true" height="100%">\n\t<Page id="page">\n\t\t<subHeader>\n\t\t\t<Bar>\n\t\t\t\t<contentMiddle>\n\t\t\t\t\t<SearchField id="mySearchField" value="{config>/searchValue}"\n\t\t\t\t\t\tsearch="refreshList" showRefreshButton="{device>/isNoTouch}" placeholder="{i18n>SEARCH_ACCOUNTS}">\n\t\t\t\t\t</SearchField>\n\t\t\t\t</contentMiddle>\n\t\t\t</Bar>\n\t\t</subHeader>\n\t\t<content>\n\t\t\t<PullToRefresh id="myPullToRefresh" visible="{device>/isTouch}" refresh="refreshList"></PullToRefresh>\n\t\t\t<!-- Replace with required full screen control -->\n\n\t\t\t<ca:GrowingTileContainer id="tileContainer"\tvertical="true" horizontal="false" growingScrollToLoad="true">\n\n\t\t\t\t<core:ExtensionPoint name="extOverviewTile">\n\t\t\t\t\t<ca:OverviewTile id="myOverviewTile" contact="{path:\'MainContact/fullName\'}"\n\t\t\t\t\t\ticon="{parts:[{path:\'Logo/__metadata/media_src\'},{path: \'category\'}], formatter:\'cus.crm.myaccounts.util.formatter.logoUrlFormatter\'}" \n\t\t\t\t\t\taddress="{parts:[{path:\'MainAddress/city\'}, {path:\'MainAddress/country\'}],formatter:\'cus.crm.myaccounts.util.formatter.locationFormatter\'}"\n\t\t\t\t\t\ttitle= "{parts:[{path: \'fullName\'},{path: \'name1\'}], formatter: \'cus.crm.myaccounts.util.formatter.AccountNameFormatter\'}" \n\t\t\t\t\t\trating="{Classification/ratingText}"\n\t\t\t\t\t\topportunities="{parts:[{path:\'AccountFactsheet/opportunityVolume/amount\'}, {path:\'AccountFactsheet/opportunityVolume/currency\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatShortAmounts\'}"\n\t\t\t\t\t\trevenue="{parts:[{path:\'AccountFactsheet/revenueCurrentYear/amount\'}, {path:\'AccountFactsheet/revenueCurrentYear/currency\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatShortAmounts\'}"\n\t\t\t\t\t\tlastContact="{parts:[{path:\'AccountFactsheet/lastContact/toDate\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumDate\' }"\n\t\t\t\t\t\tnextContact="{parts:[{path:\'AccountFactsheet/nextContact/fromDate\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumDate\' }"\n\t\t\t\t\t\tpress="onTileTap" contactPress="openBusinessCard">\n\t\t\t\t\t\t<ca:layoutData>\n\t\t\t\t\t\t\t<layout:GridData span="L4 M6 S12"></layout:GridData>\n\t\t\t\t\t\t</ca:layoutData>\n\t\t\t\t\t</ca:OverviewTile>\n\t\t\t\t</core:ExtensionPoint>\n\t\t\t\t\n\t\t\t</ca:GrowingTileContainer>\n\t\t</content>\n\t</Page>\n</core:View>\n',"cus/crm/myaccounts/view/S360.controller.js":function(){jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");jQuery.sap.require("cus.crm.myaccounts.util.formatter");jQuery.sap.require("cus.crm.myaccounts.util.Util");cus.crm.myaccounts.NavigationHelper={};sap.ca.scfld.md.controller.BaseFullscreenController.extend("cus.crm.myaccounts.view.S360",{MODEL_360:"cus.crm.myaccounts.s360",onInit:function(){sap.ui.getCore().setModel(this.getView().getModel(),cus.crm.myaccounts.view.S360.MODEL_360);this.oRouter.attachRouteMatched(this.handleNavTo,this);this.backendSupportsEdit=cus.crm.myaccounts.util.Util.getServiceSchemaVersion(this.getView().getModel(),"AccountCollection")>0},onAfterRendering:function(){$('.sapCRMmyAccountsHeader .sapMFlexItem').attr("style","float:left")},handleNavTo:function(e){var m=sap.ui.getCore().getModel(cus.crm.myaccounts.view.S360.MODEL_360);if(e.getParameter("name")==="detail"){var c=this;var v=this.getView();var p='/'+e.getParameter("arguments").contextPath;var a=new sap.ui.model.Context(m,'/'+e.getParameter("arguments").contextPath);var b=function(){v.setModel(m);v.setBindingContext(a);var o=c._getHeaderFooterOptions();c.setHeaderFooterOptions(o)};m.createBindingContext(p,"",{expand:'AccountFactsheet,AccountFactsheet/Attachments,Logo,AccountFactsheet/Opportunities,AccountFactsheet/Notes,AccountFactsheet/Contacts,AccountFactsheet/Contacts/WorkAddress,AccountFactsheet/Leads,AccountFactsheet/Tasks,Classification,MainAddress,EmployeeResponsible,EmployeeResponsible/WorkAddress'},b,true)}if(e.getParameter("name")==="S2"){this.getView().setModel(new sap.ui.model.json.JSONModel())}},_getSelectedText:function(){var a=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath);var t=cus.crm.myaccounts.util.formatter.AccountNameFormatter(a.fullName,a.name1)+"\n";var m=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/MainAddress");if(m)t+=m.address;return t},_getShareDisplay:function(){var a=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath);var t=cus.crm.myaccounts.util.formatter.AccountNameFormatter(a.fullName,a.name1);var m=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/MainAddress");var b="";if(m)b=m.address;return new sap.m.StandardListItem({title:t,description:b})},_getDiscussID:function(){var u=document.createElement('a');u.href=this.getView().getModel().sServiceUrl;return u.pathname+this.getView().getBindingContext().sPath},_getDiscussType:function(){var u=document.createElement('a');u.href=this.getView().getModel().sServiceUrl;return u.pathname+"/$metadata#AccountCollection"},_getDiscussName:function(){var a=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath);return cus.crm.myaccounts.util.formatter.AccountNameFormatter(a.fullName,a.name1)},_getHeaderFooterOptions:function(){var t=this;var b=[];if(this.backendSupportsEdit){b.push({sI18nBtnTxt:"BUTTON_EDIT",sIcon:"",onBtnPressed:function(e){var p;p={contextPath:t.getView().getBindingContext().sPath.substr(1),};t.oRouter.navTo("edit",p,false)}})}return{buttonList:b,sI18NFullscreenTitle:"DETAIL_TITLE",onBack:function(e){window.history.back()},oJamOptions:{oShareSettings:{oDataServiceUrl:"/sap/opu/odata/sap/SM_INTEGRATION_SRV/",object:{id:document.URL.replace(/&/g,"%26"),display:t._getShareDisplay(),share:t._getSelectedText()}},oDiscussSettings:{oDataServiceUrl:"/sap/opu/odata/sap/SM_INTEGRATION_SRV/",feedType:"object",object:{id:t._getDiscussID(),type:t._getDiscussType(),name:t._getDiscussName(),ui_url:document.URL}}},oAddBookmarkSettings:{icon:"sap-icon://Fiori2/F0002"}}},navToOpportunity:function(){var Q=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/AccountFactsheet/opportunitiesCount");this.navToOtherApplication("Opportunity","manageOpportunity",this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).accountID,Q,this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).name1)},navToLead:function(){var Q=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/AccountFactsheet/leadsCount");this.navToOtherApplication("Lead","manageLead",this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).accountID,Q,this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).name1)},navToAppointments:function(){var a=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).accountID;var n=this.getView().getBindingContext().sPath+"/AccountFactsheet/nextContact/fromDate";var b=this.getView().getModel().getProperty(n);var Q=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/AccountFactsheet/futureActivitiesCount");var f=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;this.oCrossAppNavigator=f&&f("CrossApplicationNavigation");if(null===b){b=new Date()}var c=this.getDateParameterfromDate(b);cus.crm.myaccounts.NavigationHelper.qty=Q;cus.crm.myaccounts.NavigationHelper.accountName=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).name1;this.oRouter.detachRouteMatched(this.handleNavTo,this,this);this.oCrossAppNavigator&&this.oCrossAppNavigator.toExternal({target:{semanticObject:"Appointment",action:"myAppointments"},params:{"accountID":[a],"Date":[c]}})},getDateParameterfromDate:function(d){var D=d.getDate().toString();D=(D.length===1)?"0"+D:D;var m=d.getMonth()+1;m=m.toString();m=(m.length===1)?"0"+m:m;var y=d.getFullYear();var s=""+y+m+D;return s},navToTask:function(){var Q=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/AccountFactsheet/tasksCount");this.navToOtherApplication("Task","manageTasks",this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).accountID,Q,this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).name1)},navToNote:function(e){this.oRouter.navTo("AccountNotes",{contextPath:e.getSource().getBindingContext().sPath.replace('/',"")})},navToContact:function(){var Q=this.getView().getModel().getProperty(this.getView().getBindingContext().sPath+"/AccountFactsheet/contactsCount");this.navToOtherApplication("ContactPerson","MyContacts",this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).accountID,Q,this.getView().getModel().getProperty(this.getView().getBindingContext().sPath).name1)},navToOtherApplication:function(t,a,b,q,c){var f=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;this.oCrossAppNavigator=f&&f("CrossApplicationNavigation");cus.crm.myaccounts.NavigationHelper.qty=q;cus.crm.myaccounts.NavigationHelper.accountName=c;this.oRouter.detachRouteMatched(this.handleNavTo,this,this);this.oCrossAppNavigator&&this.oCrossAppNavigator.toExternal({target:{semanticObject:t,action:a},params:{"accountID":[b]}})},navToAttachment:function(e){this.oRouter.navTo("AccountAttachments",{contextPath:e.getSource().getBindingContext().sPath.replace('/',"")})},})},"cus/crm/myaccounts/view/S360.view.xml":'<!--\r\n\r\n    Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved\r\n\r\n-->\r\n<core:View xmlns:core="sap.ui.core" xmlns:ui="sap.ca.ui" xmlns:suite="sap.suite.ui.commons" xmlns:layout="sap.ui.layout" xmlns:html="http://www.w3.org/1999/xhtml"\r\n\txmlns="sap.m" controllerName="cus.crm.myaccounts.view.S360">\r\n\r\n\r\n\t<Page id="page" title="{i18n>DETAIL_TITLE}" showNavButton="true">\r\n\t\t<content>\r\n\t\t\t<layout:Grid class ="sapSuiteUtiHeaderGrid sapSuiteUti sapCRMmyAccountsHeader" defaultSpan="L6 M6 S12" vSpacing="0" >\r\n\t\t\t\t<layout:content>\r\n\t\t\t\t\t<HBox>\r\n\t\t\t\t\t\t<Image src="{parts:[{path:\'Logo/__metadata/media_src\'},{path: \'category\'}], formatter:\'cus.crm.myaccounts.util.formatter.logoUrlFormatter\'}" \r\n\t\t\t\t\t\t\theight="5rem" \r\n\t\t\t\t\t\t\twidth="5rem"\r\n\t\t\t\t\t\t\tvisible="{path:\'Logo/__metadata/media_src\', formatter:\'cus.crm.myaccounts.util.formatter.logoVisibilityFormatter\'}" >\r\n\t\t\t\t\t\t</Image>\r\n\t\t\t\t\t\t<ObjectHeader title="{parts:[{path: \'fullName\'},{path: \'name1\'}], formatter: \'cus.crm.myaccounts.util.formatter.AccountNameFormatter\'}"\r\n\t\t\t\t\t\t\tclass="sapSuiteUtiHeader">\r\n\t\t\t\t\t\t\t<attributes>\r\n\t\t\t\t\t\t\t\t<ObjectAttribute text="{accountID}"></ObjectAttribute>\r\n\t\t\t\t\t\t\t</attributes>\r\n\t\t\t\t\t\t</ObjectHeader>\r\n\t\t\t\t\t</HBox>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<core:ExtensionPoint name="extKpiBox">\r\n\t\t\t\t\t\t<HBox class="sapSuiteUtiKpiBox">\r\n\t\t\t\t\t\t\t<suite:KpiTile \r\n\t\t\t\t\t\t\t\tvalue="{parts:[{path:\'AccountFactsheet/revenueCurrentYear/amount\'},{path:\'AccountFactsheet/revenueCurrentYear/currency\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatShortNumber\'}"\r\n\t\t\t\t\t\t\t\tvalueUnit="{parts:[{path:\'AccountFactsheet/revenueCurrentYear/currency\'}]}"\r\n\t\t\t\t\t\t\t\tdescription="{i18n>REVENUE_CURRENT}"\r\n\t\t\t\t\t\t\t\tdoubleFontSize="true"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</suite:KpiTile>\r\n\t\t\t\t\t\t\t<suite:KpiTile \r\n\t\t\t\t\t\t\t\tvalue="{parts:[{path:\'AccountFactsheet/revenueLastYear/amount\'},{path:\'AccountFactsheet/revenueLastYear/currency\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatShortNumber\'}"\r\n\t\t\t\t\t\t\t\tvalueUnit="{parts:[{path:\'AccountFactsheet/revenueLastYear/currency\'}]}"\r\n\t\t\t\t\t\t\t\tdescription="{i18n>REVENUE_LAST}"\r\n\t\t\t\t\t\t\t\tdoubleFontSize="true"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</suite:KpiTile>\r\n\t\t\t\t\t\t\t<core:ExtensionPoint name="extKpiTile"/>\r\n\t\t\t\t\t\t</HBox>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t</layout:content>\r\n\t\t\t</layout:Grid>\r\n\t\t\t<layout:Grid defaultSpan="L6 M12 S12">\r\n\t\t\t\t<layout:content>\r\n\t\t\t\t\t<core:ExtensionPoint name="extGeneralInfo">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>GENERAL_DATA}" width="100%" height="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S6" hSpacing="0">\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>ADDRESS}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{MainAddress/address}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>UNWEIGHTED_OPPORTUNITIES}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{parts:[{path:\'AccountFactsheet/opportunityVolume/amount\'}, {path:\'AccountFactsheet/opportunityVolume/currency\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatShortAmounts\'}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extGeneralInfoLeft"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>RATING}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{Classification/ratingText}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'EmployeeResponsible/WorkAddress/function\'}], formatter:\'cus.crm.myaccounts.util.formatter.formatEmployeeResponsible\'}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{EmployeeResponsible/fullName}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extGeneralInfoRight"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extContacts">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>CONTACTS}"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tpress="navToContact"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/contactsCount\'}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12"\r\n\t\t\t\t\t\t\t\t\t\t\thSpacing="0" \r\n\t\t\t\t\t\t\t\t\t\t\tcontent="{path:\'AccountFactsheet/Contacts\'}" >\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{function}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{fullName}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{WorkAddress/mobilePhone}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{WorkAddress/email}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extContactsInfo"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extOpportunities">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>OPPORTUNITIES}"\r\n\t\t\t\t\t\t\tpress="navToOpportunity"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/opportunitiesCount\', parameters:{expand:\'AccountFactsheet\'}}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12"\r\n\t\t\t\t\t\t\t\t\t\t\thSpacing="0"\r\n\t\t\t\t\t\t\t\t\t\t\tcontent="{path:\'AccountFactsheet/Opportunities\'}" >\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'closingDate\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatCloseDate\' }"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{description}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{parts:[{path : \'expRevenue\'},{path : \'currency\'}], formatter:\'cus.crm.myaccounts.util.formatter.formatAmounts\'}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{currPhaseText}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extOpportunityInfo"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extAppointments">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>APPOINTMENTS}"\r\n\t\t\t\t\t\t\tpress="navToAppointments"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/futureActivitiesCount\', parameters:{expand:\'AccountFactsheet\'}}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12" hSpacing="0">\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>NEXT_APPOINTMENT}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{parts:[{path:\'AccountFactsheet/nextContact/fromDate\'}, {path:\'AccountFactsheet/nextContact/toDate\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumTimeInterval\' }"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{AccountFactsheet/nextContact/description}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extAppointmentLeft"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>LAST_APPOINTMENT}"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{parts:[{path:\'AccountFactsheet/lastContact/fromDate\'}, {path:\'AccountFactsheet/lastContact/toDate\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumTimeInterval\' }"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{AccountFactsheet/lastContact/description}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extAppointmentRight"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extLeads">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>LEADS}"\r\n\t\t\t\t\t\t\tpress="navToLead"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/leadsCount\', parameters:{expand:\'AccountFactsheet\'}}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12"\r\n\t\t\t\t\t\t\t\t\t\t\thSpacing="0"\r\n\t\t\t\t\t\t\t\t\t\t\tcontent="{path:\'AccountFactsheet/Leads\'}" >\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'validFrom\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatStartDate\' }"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{description}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{qualificationLevel}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{statusText}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{importanceText}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extLeadInfo"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extTasks">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>TASKS}"\r\n\t\t\t\t\t\t\tpress="navToTask"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/tasksCount\', parameters:{expand:\'AccountFactsheet\'}}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12"\r\n\t\t\t\t\t\t\t\t\t\t\thSpacing="0"\r\n\t\t\t\t\t\t\t\t\t\t\tcontent="{path:\'AccountFactsheet/Tasks\'}" >\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'dueDate\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatDueDate\' }"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{description}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extTaskInfo"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extNotes">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>NOTES}"\r\n\t\t\t\t\t\t\tpress="navToNote"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/notesCount\', parameters:{expand:\'AccountFactsheet\'}}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12"\r\n\t\t\t\t\t\t\t\t\t\t\thSpacing="0"\r\n\t\t\t\t\t\t\t\t\t\t\tcontent="{path:\'AccountFactsheet/Notes\'}" >\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'createdAt\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumDate\' }"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{content}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extNoteInfo"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extAttachments">\r\n\t\t\t\t\t\t<suite:FacetOverview\r\n\t\t\t\t\t\t\ttitle="{i18n>ATTACHMENTS}"\r\n\t\t\t\t\t\t\tpress="navToAttachment"\r\n\t\t\t\t\t\t\twidth="100%"\r\n\t\t\t\t\t\t\tquantity="{path:\'AccountFactsheet/attachmentsCount\', parameters:{expand:\'AccountFactsheet\'}}"\r\n\t\t\t\t\t\t\theight="200px">\r\n\t\t\t\t\t\t\t<suite:content>\r\n\t\t\t\t\t\t\t\t<layout:Grid defaultSpan="L6 M6 S12"\r\n\t\t\t\t\t\t\t\t\t\t\thSpacing="0"\r\n\t\t\t\t\t\t\t\t\t\t\tcontent="{path:\'AccountFactsheet/Attachments\'}" >\r\n\t\t\t\t\t\t\t\t\t<layout:content>\r\n\t\t\t\t\t\t\t\t\t\t<VBox height="200px">\r\n\t\t\t\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'createdAt\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumDate\' }"></Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text="{name}"></Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extAttachmentInfo"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t</layout:content>\r\n\t\t\t\t\t\t\t\t</layout:Grid>\r\n\t\t\t\t\t\t\t</suite:content>\r\n\t\t\t\t\t\t</suite:FacetOverview>\r\n\t\t\t\t\t</core:ExtensionPoint>\r\n\t\t\t\t\t<core:ExtensionPoint name="extFacetOverview"/>\r\n\t\t\t\t</layout:content>\r\n\t\t\t</layout:Grid>\r\n\t\t</content>\r\n\t\t\t\t<footer>\r\n            <Bar id="detailFooter">\r\n                <contentRight>\r\n                    <Button icon="sap-icon://action" press="handleAction" />\r\n                </contentRight>\r\n            </Bar>\r\n        </footer>\r\n\t</Page>\r\n</core:View>\r\n',"cus/crm/myaccounts/view/S4Attachments.controller.js":function(){jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");jQuery.sap.require("cus.crm.myaccounts.util.formatter");sap.ca.scfld.md.controller.BaseFullscreenController.extend("cus.crm.myaccounts.view.S4Attachments",{onInit:function(){this.oRouter.attachRouteMatched(this.handleNavTo,this)},handleNavTo:function(e){if(e.getParameter("name")==="AccountAttachments"){var v=this.getView();var c=e.getParameter("arguments").contextPath;var m=this.getView().getModel();var p='/'+e.getParameter("arguments").contextPath;var a=new sap.ui.model.Context(m,'/'+e.getParameter("arguments").contextPath);var b=function(){v.setBindingContext(a)};m.createBindingContext(p,"",{expand:'Attachments'},b,true);var m=this.getView().getModel();var t=this;if(m instanceof sap.ui.model.odata.ODataModel){m.read(c+"/Attachments",null,null,true,function(d,r){var f=JSON.parse(JSON.stringify(d));var g={Attachments:[]};$.each(f.results,function(i,h){var o={name:h.name,size:h.fileSize,url:cus.crm.myaccounts.util.formatter.urlFormatter(h.__metadata.media_src),uploadedDate:h.createdAt,contributor:h.createdBy,fileExtension:cus.crm.myaccounts.util.formatter.mimeTypeFormatter(h.mimeType),fileId:h.documentId};g.Attachments.push(o)});t.byId('fileupload').setModel(new sap.ui.model.json.JSONModel(g))})}}},handleNavBack:function(e){window.history.back()},_refresh:function(c,e,d){var t=this;if(d&&d.context){this.getView().setBindingContext(d.context);var m=this.getView().getModel();if(m instanceof sap.ui.model.odata.ODataModel){m.read(d.context.getPath()+"/Attachments",null,null,true,function(D,r){var a=JSON.parse(JSON.stringify(D));var d={Attachments:[]};$.each(a.results,function(i,v){var o={name:v.name,size:v.fileSize,url:cus.crm.myaccounts.util.formatter.getRelativePathFromURL(v.__metadata.media_src),uploadedDate:cus.crm.mycontacts.formatter.ReleaseFormatter.dateFormatter(v.createdAt),contributor:v.createdBy,fileExtension:cus.crm.mycontacts.formatter.ReleaseFormatter.mimeTypeFormatter(v.mimeType),fileId:v.documentId};d.Attachments.push(o)});t.byId('fileupload').setModel(new sap.ui.model.json.JSONModel(d))})}}},})},"cus/crm/myaccounts/view/S4Attachments.view.xml":'<!--\n\n    Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved\n\n-->\n<core:View xmlns:core="sap.ui.core" xmlns:ca="sap.ca.ui" xmlns:html="http://www.w3.org/1999/xhtml"\n\txmlns="sap.m" controllerName="cus.crm.myaccounts.view.S4Attachments">\n\n\n\t<Page id="page" title="{i18n>ATTACHMENTS}" showNavButton="true" navButtonPress="handleNavBack">\n\t\t<content>\n\t\t\t<ObjectHeader title="{i18n>ATTACHMENTS}">\n\t\t\t\t<attributes>\n\t\t\t\t\t<ObjectAttribute text="{parts:[{path: \'fullName\'},{path: \'name1\'}], formatter: \'cus.crm.myaccounts.util.formatter.AccountNameFormatter\'}"></ObjectAttribute>\n\t\t\t\t</attributes>\n\t\t\t</ObjectHeader>\n\t\t\t<html:div><html:hr ></html:hr></html:div>\n\t\t\t <ca:FileUpload\n\t\t\t \tclass="sapCaUiNotes"\n\t\t\t    id="fileupload"\n\t\t\t    items="/Attachments"\n\t\t\t    uploadUrl="name"\n\t\t\t    fileName="name"\n\t\t\t    size="size"\n\t\t\t    url="url"\n\t\t\t    uploadedDate="uploadedDate"\n\t\t\t    contributor="contributor"\n\t\t\t    fileExtension="fileExtension"\n\t\t\t    fileId="documentId"\t\n\t\t\t    editMode="false"\n\t\t\t    showNoData="true" \n\t\t\t    uploadEnabled = "false"/>\n\t\t</content>\n\t</Page>\n</core:View>',"cus/crm/myaccounts/view/S4Notes.controller.js":function(){jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");jQuery.sap.require("cus.crm.myaccounts.util.formatter");sap.ca.scfld.md.controller.BaseFullscreenController.extend("cus.crm.myaccounts.view.S4Notes",{onInit:function(){this.oRouter.attachRouteMatched(this.handleNavTo,this)},handleNavTo:function(e){if(e.getParameter("name")==="AccountNotes"){var v=this.getView();var m=this.getView().getModel();var p='/'+e.getParameter("arguments").contextPath;var c=new sap.ui.model.Context(m,'/'+e.getParameter("arguments").contextPath);var b=function(){v.setBindingContext(c)};m.createBindingContext(p,"",{expand:'Notes'},b,true)}},handleNavBack:function(e){window.history.back()}})},"cus/crm/myaccounts/view/S4Notes.view.xml":'<!--\n\n    Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved\n\n-->\n<core:View xmlns:core="sap.ui.core" xmlns:ca="sap.ca.ui" xmlns:html="http://www.w3.org/1999/xhtml"\n\txmlns="sap.m" controllerName="cus.crm.myaccounts.view.S4Notes">\n\n\n\t<Page id="page" title="{i18n>NOTES}" showNavButton="true" navButtonPress="handleNavBack">\n\t\t<content>\n\t\t\t<ObjectHeader title="{i18n>NOTES}">\n\t\t\t\t<attributes>\n\t\t\t\t\t<ObjectAttribute text="{parts:[{path: \'fullName\'},{path: \'name1\'}], formatter: \'cus.crm.myaccounts.util.formatter.AccountNameFormatter\'}"></ObjectAttribute>\n\t\t\t\t</attributes>\n\t\t\t</ObjectHeader>\n\t\t\t<html:div><html:hr ></html:hr></html:div>\n\t\t\t<ca:Notes growing="true" growingThreshold="4" showNoteInput="false" items="{Notes}">\n\t\t\t\t<ca:ExpansibleFeedListItem  senderActive="false" showIcon="false" text="{content}" sender="{creator}" timestamp="{parts:[{path:\'createdAt\'}],formatter:\'cus.crm.myaccounts.util.formatter.formatMediumDateTime\' }" maxLines="3"></ca:ExpansibleFeedListItem>\n\t\t\t</ca:Notes>\n\t\t</content>\n\t</Page>\n</core:View>',"cus/crm/myaccounts/view/maintain/GeneralDataEdit.controller.js":function(){jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");jQuery.sap.require("cus.crm.myaccounts.util.Util");jQuery.sap.require("cus.crm.myaccounts.util.formatter");jQuery.sap.require("cus.crm.myaccounts.util.Constants");jQuery.sap.require("sap.m.MessageToast");jQuery.sap.require("sap.m.MessageBox");sap.ca.scfld.md.controller.BaseFullscreenController.extend("cus.crm.myaccounts.view.maintain.GeneralDataEdit",{onInit:function(){this.editMode=true;this.oDataModel=null;this.valueHelpCountry=null;this.valueHelpRegion=null;this.countryIDUsedForRegion=undefined;this.countryIDUsedForRegionSuggestion=undefined;this.customizingModel=new sap.ui.model.json.JSONModel({TitleCustomizing:[],AcademicTitleCustomizing:[]});this.getView().setModel(this.customizingModel,"Customizing");if(!this.oDataModel)this.oDataModel=this.getView().getModel();var c=new sap.ui.model.json.JSONModel(cus.crm.myaccounts.util.Constants);this.getView().setModel(c,"constants");this._readCustomizing();this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="edit"){this.editMode=true;this._cleanUp();var a=e.getParameter("arguments");var m=this.oDataModel;this.getView().setModel(m);var b="/"+a.contextPath;var C=m.getContext(b);this.getView().setBindingContext(C);var t=this;if(!C.getObject()){m.createBindingContext(b,"",{expand:this._getExpandForDataBinding()},function(){var C=t.getView().getBindingContext();var m=t.getView().getModel();var f=m.getProperty(C.sPath+"/MainAddress/countryID");if(f&&f!="")t._setAddressFieldsEnabled(true);else t._setAddressFieldsEnabled(false)},true)}else{this._toggleAddressFields()}}if(e.getParameter("name")==="new"){this.editMode=false;this._cleanUp();var d=e.getParameter("arguments").accountCategory;if(d!=cus.crm.myaccounts.util.Constants.accountCategoryPerson&&d!=cus.crm.myaccounts.util.Constants.accountCategoryCompany&&d!=cus.crm.myaccounts.util.Constants.accountCategoryGroup)d=cus.crm.myaccounts.util.Constants.accountCategoryCompany;this._setEmptyScreen(d);this._toggleAddressFields()}},this)},_setEmptyScreen:function(a){var A=this._getTemplateForAccount(a);var d=this._getDependentRelations();for(var i in d){A[d[i]]=this._getTemplateForDependentObject(d[i])}var n=new sap.ui.model.json.JSONModel({NewAccount:A});n.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);this.getView().setModel(n);this.getView().setBindingContext(n.getContext("/NewAccount"))},_getExpandForDataBinding:function(){var e='Logo';var d=this._getDependentRelations();for(var i in d){e=e+","+d[i]}return e},_getDependentRelations:function(){var d=["MainAddress"];var D=[];if(this.extHookGetDependentCustomRelations)D=this.extHookGetDependentCustomRelations();for(var i in D){d.push(D[i])}return d},_getTemplateForAccount:function(a){var A=this._generateTemplateUsingMetadata("AccountCollection");A.isMyAccount=true;A.category=a;if(A.birthDate=="")A.birthDate=null;return A},_getTemplateForDependentObject:function(r){switch(r){default:return this._generateTemplateUsingMetadata("AccountCollection/"+r);break}},_generateTemplateUsingMetadata:function(p){var e=this.oDataModel.oMetadata._getEntityTypeByPath(p);var t={};for(var i in e.property){t[e.property[i].name]=""}return t},_objectKeyIsInitial:function(o,p){var e=this.oDataModel.oMetadata._getEntityTypeByPath(p);for(var i in e.key.propertyRef)if(o[e.key.propertyRef[i].name]!="")return false;return true},_fillNewObject:function(s,t,f,a){var c=false;var i="";for(var k in s){if(a)i=this.getView().getId()+"--"+a+"--"+f+k+"Input";else i=this.getView().getId()+"--"+f+k+"Input";if(typeof s[k]!="object"||k=="birthDate")t[k]=s[k];var I=this.byId(i);if(I){var n="";if(I.getDateValue){n=I.getValue();if(n==""){n=null}else{var N=new Date();var d=sap.ui.core.format.DateFormat.getDateInstance({style:"long"});var D=d.parse(n);if(!D){d=sap.ui.core.format.DateFormat.getDateInstance({style:"short"});D=d.parse(n)}if(!D){d=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});D=d.parse(n)}if(D){N.setUTCFullYear(D.getFullYear());N.setUTCDate(D.getDate());N.setUTCMonth(D.getMonth());N.setUTCHours(0);N.setUTCMinutes(0);N.setUTCSeconds(0);N.setUTCMilliseconds(0);n=N}else{n=null}}}else if(I.getSelectedKey)n=I.getSelectedKey();else if(I.getValue)n=I.getValue();if(t[k]!=n){c=true;t[k]=n}}}return c},_onAfterSave:function(r){this._setBusy(false);if(this.editMode)window.history.back();else this.oRouter.navTo("detail",{contextPath:"AccountCollection('"+r.accountID+"')"},true)},onSaveButtonPressed:function(e){if(!this._checkSavePossible())return;this._setBusy(true);var m=this.getView().getModel();var a=this.getView().getBindingContext();var A=a.getObject();var n={};var c=false,b=false,d=false;c=this._fillNewObject(A,n,"");if(A.category==cus.crm.myaccounts.util.Constants.accountCategoryPerson)b=this._fillNewObject(n,n,"","personFragment");if(A.category!=cus.crm.myaccounts.util.Constants.accountCategoryPerson)b=this._fillNewObject(n,n,"","companyFragment");if(b)c=b;d=this._changesForDependentRelationsExists();if(!c&&!d)return;var B,r;var f=[];if(this.editMode){if(c){r=a.sPath;B=m.createBatchOperation(r,"PUT",n);f.push(B)}if(d){this._createBatchOperationForDependentRelations(f)}var R=cus.crm.myaccounts.util.Util.getRefreshUIObject(m,a.sPath,this._getExpandForDataBinding());this._submitBatchOperation(f,function(){R.refresh();this._onAfterSave()},function(){R.destroy();this._setBusy(false)})}else{r="/AccountCollection";B=this.oDataModel.createBatchOperation(r,"POST",n);if(d){this._adaptAccountWithDependentRelationsBeforeCreate(n)}f.push(B);this._submitBatchOperation(f,this._onAfterSave,function(){this._setBusy(false)})}},_adaptAccountWithDependentRelationsBeforeCreate:function(n){var d=this._getDependentRelations();for(var i in d){var D=this._getTemplateForDependentObject(d[i]);var N={};var c=this._fillNewObject(D,N,d[i]+".");if(c)n[d[i]]=N}},_createBatchOperationForDependentRelations:function(b){var m=this.getView().getModel();var a=this.getView().getBindingContext();var A=a.getObject();var d=this._getDependentRelations();for(var i in d){var D=m.getProperty(a+"/"+d[i]);var o=null;if(D)o=m.getContext("/"+A[d[i]]["__ref"]);var n={};var c=false;var e=false;if(!D||this._objectKeyIsInitial(D,"AccountCollection/"+d[i])){e=true;D=this._getTemplateForDependentObject(d[i]);if(D.accountID!=null&&D.accountID!=undefined)D.accountID=A.accountID}c=this._fillNewObject(D,n,d[i]+".");var B,r;if(c){var h;if(e){h="POST";var E=this.oDataModel.oMetadata._getEntityTypeByPath("AccountCollection/"+d[i]);r=E.name+"Collection"}else{h="PUT";r=o.sPath}B=m.createBatchOperation(r,h,n);b.push(B)}}},_changesForDependentRelationsExists:function(){var m=this.oDataModel;var a=this.getView().getBindingContext();var c=false;var d=this._getDependentRelations();for(var i in d){var D=m.getProperty(a+"/"+d[i]);if(!D)D=this._getTemplateForDependentObject(d[i]);var n={};c=this._fillNewObject(D,n,d[i]+".");if(c)return c}return c},_submitBatchOperation:function(b,c,a){var m=this.oDataModel;m.clearBatch();m.addBatchChangeOperations(b);var t=this;m.submitBatch(jQuery.proxy(function(d){var e=null;var B=d.__batchResponses;var r=null;for(var i=0;i<B.length;i++){if(B[i].response){e=jQuery.parseJSON(B[i].response.body).error.message.value}if(B[i].__changeResponses&&B[i].__changeResponses.length>0&&B[i].__changeResponses[0].statusCode==201){r=B[i].__changeResponses[0].data}}if(!e){if(this.editMode)sap.m.MessageToast.show(cus.crm.myaccounts.util.Util.geti18NText("MSG_UPDATE_SUCCESS"));else sap.m.MessageToast.show(cus.crm.myaccounts.util.Util.geti18NText("MSG_CREATION_SUCCESS"));if(c)c.call(t,r)}else{sap.m.MessageBox.alert(e);if(a)a.call(t)}},this),jQuery.proxy(function(){if(this.editMode)sap.m.MessageBox.alert(cus.crm.myaccounts.util.Util.geti18NText("MSG_UPDATE_ERROR"));else sap.m.MessageBox.alert(cus.crm.myaccounts.util.Util.geti18NText("MSG_CREATION_ERROR"));if(a)a.call(t)},this),true)},onCancelButtonPressed:function(){if(!this._checkSaveNeeded()){window.history.back();return}sap.m.MessageBox.confirm(cus.crm.myaccounts.util.Util.geti18NText("MSG_CONFIRM_CANCEL"),jQuery.proxy(function(c){if(c==="OK"){window.history.back()}},this))},onInputFieldChanged:function(e){this._toggleSubmit()},_toggleSubmit:function(){if(this._checkMandatoryFieldsFilled()&&this._checkSaveNeeded())this.setBtnEnabled("saveButton",true);else this.setBtnEnabled("saveButton",false)},_checkMandatoryFieldsFilled:function(){var a=this.getView().getBindingContext().getObject();if(a.category==cus.crm.myaccounts.util.Constants.accountCategoryPerson)return this.byId(sap.ui.core.Fragment.createId("personFragment","name1Input")).getValue().length!==0;else return this.byId(sap.ui.core.Fragment.createId("companyFragment","name1Input")).getValue().length!==0},_checkSavePossible:function(){var i,c,a,r,b;i=this.getView().byId("MainAddress.countryIDInput");if(i)c=i.getValue();i=this.getView().byId("MainAddress.countryInput");if(i)a=i.getValue();if(a&&!c){sap.m.MessageBox.alert(cus.crm.myaccounts.util.Util.geti18NText1("MSG_WRONG_COUNTRY_ERROR",a));return false}i=this.getView().byId("MainAddress.regionIDInput");if(i)r=i.getValue();i=this.getView().byId("MainAddress.regionInput");if(i)b=i.getValue();if(b&&!r){sap.m.MessageBox.alert(cus.crm.myaccounts.util.Util.geti18NText1("MSG_WRONG_REGION_ERROR",b));return false}return true},_checkSaveNeeded:function(){var a=this.getView().getBindingContext();var A=a.getObject();var n={};var c=false,b=false;c=this._fillNewObject(A,n,"");if(c)return true;if(A.category==cus.crm.myaccounts.util.Constants.accountCategoryPerson)c=this._fillNewObject(n,n,"","personFragment");if(A.category!=cus.crm.myaccounts.util.Constants.accountCategoryPerson)c=this._fillNewObject(n,n,"","companyFragment");if(c)return true;b=this._changesForDependentRelationsExists();if(!b)return false;else return true},_cleanUp:function(){this.getView().setModel(null);this.setBtnEnabled("saveButton",false)},_setBusy:function(b){this.getView().setBusy(b);if(b){this.setBtnEnabled("saveButton",!b);this.setBtnEnabled("cancelButton",!b)}else{this._toggleSubmit();this.setBtnEnabled("cancelButton",!b)}},_setCountry:function(c,a){var b=this.getView().byId("MainAddress.countryInput");var d=this.getView().byId("MainAddress.countryIDInput");var o=d.getValue();if(o!=c){this._setRegion("","")}b.setValue(a);d.setValue(c);this._toggleSubmit();this._toggleAddressFields()},_readCountries:function(c){var t=this;this.valueHelpCountry.setModel(new sap.ui.model.json.JSONModel({CountryCustomizing:[]}));this.oDataModel.read("/CountryCustomizing",null,undefined,true,function(d,r){var a=jQuery.parseJSON(JSON.stringify(d));a.results.unshift({country:"",countryID:""});t.valueHelpCountry.setModel(new sap.ui.model.json.JSONModel({CountryCustomizing:a.results}));if(c)c.call(t)},function(e){jQuery.sap.log.error("Read failed in GeneralDateEdit->_readCountries:"+e.response.body)})},_setRegion:function(r,a){var b=this.getView().byId("MainAddress.regionInput");b.setValue(a);var c=this.getView().byId("MainAddress.regionIDInput");c.setValue(r);this._toggleSubmit()},_readRegions:function(c){var t=this;var a=this.getView().byId("MainAddress.countryIDInput").getValue();if(!t.aRegionCallback)t.aRegionCallback=[];if(t.regionReadRunning&&c){t.aRegionCallback.push(c);return}if(this.countryIDUsedForRegion==a){if(c)c.call(t);return}if(c)t.aRegionCallback.push(c);t.regionReadRunning=true;this.countryIDUsedForRegion=a;this.valueHelpRegion.setModel(new sap.ui.model.json.JSONModel({RegionCustomizing:[]}));this.oDataModel.read("/RegionCustomizing",null,["countryID='"+a+"'"],true,function(d,r){var b=jQuery.parseJSON(JSON.stringify(d));b.results.unshift({region:"",regionID:""});t.valueHelpRegion.setModel(new sap.ui.model.json.JSONModel({RegionCustomizing:b.results}));t.regionReadRunning=false;for(var i in t.aRegionCallback)t.aRegionCallback[i].call(t)},function(e){jQuery.sap.log.error("Read failed in GeneralDateEdit->_readRegions: "+e.response.body);t.regionReadRunning=false})},_toggleAddressFields:function(){var c=this.getView().byId("MainAddress.countryIDInput").getValue();if(c&&c!="")this._setAddressFieldsEnabled(true);else this._setAddressFieldsEnabled(false)},_setAddressFieldsEnabled:function(e){var a=this.getView().byId("editFormAddress");if(!a)return;var f=a.getFormElements();var v=this.getView().getId();for(var i in f){var F=f[i].getFields();for(var z in F){var r=new RegExp(v+"--MainAddress.[A-z0-9]+Input","g");var b=F[z].getId();if(b==v+"--MainAddress.countryInput")continue;if(r.test(b))F[z].setEnabled(e)}}},onCountryValueHelpSelected:function(e){if(!this.valueHelpCountry){this._createValueHelpCountry();this._readCountries()}this.valueHelpCountry.open()},_createValueHelpCountry:function(){if(!this.valueHelpCountry)this.valueHelpCountry=sap.ui.xmlfragment("cus.crm.myaccounts.view.maintain.ValueHelpCountry",this)},onCountryValueHelpSearch:function(e){var s=e.getParameter("value");var f=new sap.ui.model.Filter("country",sap.ui.model.FilterOperator.Contains,s);e.getSource().getBinding("items").filter([f])},onCountryValueHelpClose:function(e){var s=e.getParameter("selectedItem");if(s){var S=s.getBindingContext().getObject();this._setCountry(S.countryID,S.country)}e.getSource().getBinding("items").filter([])},onCountryValueHelpCancel:function(e){e.getSource().getBinding("items").filter([])},onRegionValueHelpSelected:function(e){if(!this.valueHelpRegion){this._createValueHelpRegion()}this._readRegions();this.valueHelpRegion.open()},_createValueHelpRegion:function(){if(!this.valueHelpRegion)this.valueHelpRegion=sap.ui.xmlfragment("cus.crm.myaccounts.view.maintain.ValueHelpRegion",this)},onRegionValueHelpSearch:function(e){var s=e.getParameter("value");var f=new sap.ui.model.Filter("region",sap.ui.model.FilterOperator.Contains,s);e.getSource().getBinding("items").filter([f])},onRegionValueHelpClose:function(e){var s=e.getParameter("selectedItem");if(s){var S=s.getBindingContext().getObject();this._setRegion(S.regionID,S.region)}e.getSource().getBinding("items").filter([])},onRegionValueHelpCancel:function(e){e.getSource().getBinding("items").filter([])},onCountrySuggest:function(e){var c=e.getSource();var d=function(){var m=this.valueHelpCountry.getModel();if(c.getSuggestionItems().length>0)return;var C=m.getProperty("/CountryCustomizing");for(var i=0 in C){var o=C[i];var a=new sap.ui.core.CustomData({key:"countryID",value:o.countryID});var I=new sap.ui.core.Item({text:o.country,customData:a});c.addSuggestionItem(I)}};if(!this.valueHelpCountry){this._createValueHelpCountry();this._readCountries(d)}else{d.call(this)}},onCountrySuggestItemSelected:function(e){var I=e.getParameter("selectedItem");var c=null;for(var i in I.getCustomData()){var C=I.getCustomData()[i];if(C.getKey()=="countryID")c=C.getValue()}this._setCountry(c,I.getText())},onCountryInputFieldChanged:function(e){this.onInputFieldChanged();var c=e.getSource();this._setCountry("",c.getValue());var C=function(){var m=this.valueHelpCountry.getModel();var a=m.getProperty("/CountryCustomizing");for(var i=0 in a){var o=a[i];if(o.country==c.getValue())this._setCountry(o.countryID,c.getValue())}};if(!this.valueHelpCountry){this._createValueHelpCountry();this._readCountries(C)}else{C.call(this)}},onRegionSuggest:function(e){var r=e.getSource();var d=function(){if(this.countryIDUsedForRegionSuggestion==this.countryIDUsedForRegion)return;this.countryIDUsedForRegionSuggestion=this.countryIDUsedForRegion;var m=this.valueHelpRegion.getModel();var R=m.getProperty("/RegionCustomizing");r.removeAllSuggestionItems();for(var i=0 in R){var o=R[i];var c=new sap.ui.core.CustomData({key:"regionID",value:o.regionID});var I=new sap.ui.core.Item({text:o.region,customData:c});r.addSuggestionItem(I)}};if(!this.valueHelpRegion)this._createValueHelpRegion();this._readRegions(d)},onRegionSuggestItemSelected:function(e){var I=e.getParameter("selectedItem");var r=null;for(var i in I.getCustomData()){var c=I.getCustomData()[i];if(c.getKey()=="regionID")r=c.getValue()}this._setRegion(r,I.getText())},onRegionInputFieldChanged:function(e){this.onInputFieldChanged();var r=e.getSource();this._setRegion("",r.getValue());var c=function(){var m=this.valueHelpRegion.getModel();var R=m.getProperty("/RegionCustomizing");for(var i=0 in R){var o=R[i];if(o.region==r.getValue()){this._setRegion(o.regionID,r.getValue())}}};if(!this.valueHelpRegion){this._createValueHelpRegion();this._readRegions(c)}else{c.call(this)}},_readCustomizing:function(c){},getHeaderFooterOptions:function(){var t=this;return{sI18NFullscreenTitle:"DETAIL_TITLE",buttonList:[{sI18nBtnTxt:"BUTTON_SAVE",sId:"saveButton",onBtnPressed:jQuery.proxy(this.onSaveButtonPressed,this),bDisabled:"true"},{sI18nBtnTxt:"BUTTON_CANCEL",sId:"cancelButton",onBtnPressed:jQuery.proxy(this.onCancelButtonPressed,this),},],onBack:function(e){t.onCancelButtonPressed()},}},})},"cus/crm/myaccounts/view/maintain/GeneralDataEdit.view.xml":'<!--\n\n    Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved\n\n-->\n<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:layout="sap.ui.layout" xmlns:form="sap.ui.layout.form"\n\t\t\tcontrollerName="cus.crm.myaccounts.view.maintain.GeneralDataEdit" xmlns:html="http://www.w3.org/1999/xhtml" id="editView">\n\t <Page showNavButton="true">\n        <content>\n\t        <layout:Grid defaultSpan="L12 M12 S12" width="auto">\n\t            <layout:content>\n\t\t            <core:ExtensionPoint name="extEditForm">\n\t\t\t\t        <form:Form class="sapUiFormEdit sapUiFormEdit-CTX">\n\t\t\t\t\t\t\t<form:layout>\n\t\t\t\t\t\t\t\t<form:ResponsiveGridLayout xmlns:form="sap.ui.layout.form"\n\t\t\t\t\t\t\t\t\tlabelSpanL="4" \n\t\t\t\t\t\t\t\t\tlabelSpanM="4" \n\t\t\t\t\t\t\t\t\temptySpanL="3" \n\t\t\t\t\t\t\t\t\temptySpanM="2" \n\t\t\t\t\t\t\t\t\tcolumnsL="1"\n\t\t\t\t\t\t\t\t\tcolumnsM="1"\n\t\t\t\t\t\t\t\t\tclass="editableForm">\n\t\t\t\t\t\t\t\t</form:ResponsiveGridLayout>\n\t\t\t\t\t\t\t</form:layout>\t\t\n\t\t\t\t\t\t\t<form:formContainers>\n\t\t\t\t\t\t\t\t<form:FormContainer />\n\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extEditFormTop"/> \n\t\t\t\t\t\t\t\t<form:FormContainer title="{i18n>GENERAL_DATA}" visible="{parts:[\'category\', \'constants>/accountCategoryPerson\'], formatter: \'cus.crm.myaccounts.util.formatter.isUnequal\'}">\n\t\t\t\t\t\t\t\t\t<form:formElements >\n\t\t\t\t\t\t\t\t\t\t<core:Fragment id="companyFragment" fragmentName="cus.crm.myaccounts.view.maintain.GeneralDataEditCompany" type="XML" />\n\t\t\t\t\t\t\t\t\t</form:formElements>\n\t\t\t\t\t\t\t\t</form:FormContainer>\n\t\t\t\t\t\t\t\t<form:FormContainer title="{i18n>GENERAL_DATA}" visible="{parts:[\'category\', \'constants>/accountCategoryPerson\'], formatter: \'cus.crm.myaccounts.util.formatter.isEqual\'}">\n\t\t\t\t\t\t\t\t\t<form:formElements >\n\t\t\t\t\t\t\t\t\t\t<core:Fragment id="personFragment" fragmentName="cus.crm.myaccounts.view.maintain.GeneralDataEditPerson" type="XML" />\n\t\t\t\t\t\t\t\t\t</form:formElements>\n\t\t\t\t\t\t\t\t</form:FormContainer>\t\t\t\t\t\n\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extEditFormMiddle"/>\n\t\t\t\t\t\t\t</form:formContainers>\n\t\t\t\t\t\t</form:Form>\t\n\t\t\t\t\t\t<form:Form class="sapUiFormEdit sapUiFormEdit-CTX">\n\t\t\t\t\t\t\t<form:layout>\n\t\t\t\t\t\t\t\t<form:ResponsiveGridLayout xmlns:form="sap.ui.layout.form"\n\t\t\t\t\t\t\t\t\tlabelSpanL="4" \n\t\t\t\t\t\t\t\t\tlabelSpanM="4" \n\t\t\t\t\t\t\t\t\temptySpanL="3" \n\t\t\t\t\t\t\t\t\temptySpanM="2" \n\t\t\t\t\t\t\t\t\tcolumnsL="1"\n\t\t\t\t\t\t\t\t\tcolumnsM="1"\n\t\t\t\t\t\t\t\t\tclass="editableForm">\n\t\t\t\t\t\t\t\t</form:ResponsiveGridLayout>\n\t\t\t\t\t\t\t</form:layout>\t\n\t\t\t\t\t\t\t<form:formContainers>\n\t\t\t\t\t\t\t\t<form:FormContainer title="{i18n>ADDRESS}" id="editFormAddress">\n\t\t\t\t\t\t\t\t\t<form:formElements >\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>COUNTRY}" id="MainAddress.countryLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t  \t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t        id="MainAddress.countryInput"\n\t\t\t\t\t\t\t\t\t\t\t        value="{MainAddress/country}"\n\t\t\t\t\t\t\t\t\t\t\t        type="Text"\n\t\t\t\t\t\t\t\t\t\t\t        placeholder=""\n\t\t\t\t\t\t\t\t\t\t\t        enabled="true"\n\t\t\t\t\t\t\t\t\t\t\t        editable="true"\n\t\t\t\t\t\t\t\t\t\t\t        showValueHelp="true"\n\t\t\t\t\t\t\t\t\t\t\t        valueHelpOnly="false"\n\t\t\t\t\t\t\t\t\t\t\t        valueHelpRequest="onCountryValueHelpSelected"\n\t\t\t\t\t\t\t\t\t\t\t        showSuggestion = "true"\n\t\t\t\t\t\t\t\t\t\t\t        suggest="onCountrySuggest"\n\t\t\t\t\t\t\t\t\t\t\t        suggestionItemSelected = "onCountrySuggestItemSelected"\n\t\t\t\t\t\t\t\t\t\t\t        liveChange="onCountryInputFieldChanged"/>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input id="MainAddress.countryIDInput" value="{MainAddress/countryID}" type="Text" visible="false"/>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>REGION}" id="MainAddress.regionLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t  \t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t        id="MainAddress.regionInput"\n\t\t\t\t\t\t\t\t\t\t\t        value="{MainAddress/region}"\n\t\t\t\t\t\t\t\t\t\t\t        type="Text"\n\t\t\t\t\t\t\t\t\t\t\t        placeholder=""\n\t\t\t\t\t\t\t\t\t\t\t        editable="true"\n\t\t\t\t\t\t\t\t\t\t\t        showValueHelp="true"\n\t\t\t\t\t\t\t\t\t\t\t        valueHelpOnly="false"\n\t\t\t\t\t\t\t\t\t\t\t        valueHelpRequest="onRegionValueHelpSelected"\n\t\t\t\t\t\t\t\t\t\t\t        showSuggestion = "true"\n\t\t\t\t\t\t\t\t\t\t\t        suggest="onRegionSuggest"\n\t\t\t\t\t\t\t\t\t\t\t        suggestionItemSelected = "onRegionSuggestItemSelected"\n\t\t\t\t\t\t\t\t\t\t\t        liveChange="onRegionInputFieldChanged"/>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input id="MainAddress.regionIDInput" value="{MainAddress/regionID}" type="Text" visible="false"/>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'i18n>POSTAL_CODE\'},{path:\'i18n>CITY\'}], formatter: \'cus.crm.myaccounts.util.formatter.sleshSeparator\'}" id="MainAddress.postcodeLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t  \t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input value="{MainAddress/postcode}" maxLength="40" id="MainAddress.postcodeInput" liveChange="onInputFieldChanged">\n\t\t\t\t\t\t\t\t\t\t\t       \t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t           \t<layout:GridData span="L1 M2 S5"/>\n\t\t\t\t\t\t\t\t\t\t\t       \t</layoutData>\n\t\t\t\t\t\t\t\t\t\t\t   \t</Input>\n\t\t\t\t\t\t\t\t\t\t\t   \t<Input value="{MainAddress/city}" maxLength="40" id="MainAddress.cityInput" liveChange="onInputFieldChanged">\n\t\t\t\t\t\t\t\t\t\t\t       \t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t           \t<layout:GridData span="L4 M4 S7"/>\n\t\t\t\t\t\t\t\t\t\t\t       \t</layoutData>\n\t\t\t\t\t\t\t\t\t\t\t   \t</Input>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{parts:[{path:\'i18n>STREET\'},{path:\'i18n>HOUSE_NUMBER\'}], formatter: \'cus.crm.myaccounts.util.formatter.sleshSeparator\'}" id="MainAddress.streetLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t  \t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input value="{MainAddress/street}" maxLength="40" id="MainAddress.streetInput" liveChange="onInputFieldChanged">\n\t\t\t\t\t\t\t\t\t\t\t       \t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t           \t<layout:GridData span="L4 M4 S9"/>\n\t\t\t\t\t\t\t\t\t\t\t       \t</layoutData>\n\t\t\t\t\t\t\t\t\t\t\t   \t</Input>\n\t\t\t\t\t\t\t\t\t\t\t   \t<Input value="{MainAddress/houseNumber}" maxLength="40" id="MainAddress.houseNumberInput" liveChange="onInputFieldChanged">\n\t\t\t\t\t\t\t\t\t\t\t       \t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t           \t<layout:GridData span="L1 M2 S3"/>\n\t\t\t\t\t\t\t\t\t\t\t       \t</layoutData>\n\t\t\t\t\t\t\t\t\t\t\t   \t</Input>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement visible="{parts:[\'category\', \'constants>/accountCategoryPerson\'], formatter: \'cus.crm.myaccounts.util.formatter.isEqual\'}">\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>MOBILE}" id="MainAddress.mobilePhoneLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t\t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input value="{MainAddress/mobilePhone}" maxLength="40" id="MainAddress.mobilePhoneInput" liveChange="onInputFieldChanged"/>\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>PHONE}" id="MainAddress.phoneLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t\t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input value="{MainAddress/phone}" maxLength="40" id="MainAddress.phoneInput" liveChange="onInputFieldChanged" />\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>EMAIL}" id="MainAddress.emailLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t\t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input value="{MainAddress/email}" maxLength="40" id="MainAddress.emailInput" liveChange="onInputFieldChanged" />\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<form:FormElement>\n\t\t\t\t\t\t\t\t\t\t\t<form:label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text="{i18n>WEBSITE}" id="MainAddress.websiteLabel" width="100%" />\n\t\t\t\t\t\t\t\t\t\t\t</form:label>\n\t\t\t\t\t\t\t\t\t\t\t<form:fields>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input value="{MainAddress/website}" maxLength="40" id="MainAddress.websiteInput" liveChange="onInputFieldChanged" />\n\t\t\t\t\t\t\t\t\t   \t\t</form:fields>\n\t\t\t\t\t\t\t\t\t\t</form:FormElement>\n\t\t\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extEditFormAddress"/>\n\t\t\t\t\t\t\t\t\t</form:formElements>\n\t\t\t\t\t\t\t\t</form:FormContainer>\n\t\t\t\t\t\t\t\t<core:ExtensionPoint name="extEditFormBottom"/>\n\t\t\t\t\t\t\t</form:formContainers>\n\t\t\t\t\t\t</form:Form>\n\t\t\t\t\t</core:ExtensionPoint>\t\n\t\t\t\t</layout:content>\n\t        </layout:Grid>\n        </content>\n    </Page>\n</core:View>\n'}});
