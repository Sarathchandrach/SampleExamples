/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("sap.ca.scfld.md.controller.ScfldMasterController");jQuery.sap.require("sap.ca.ui.model.format.NumberFormat");sap.ca.scfld.md.controller.ScfldMasterController.extend("hcm.emp.payslip.view.S2",{onInit:function(){sap.ca.scfld.md.controller.ScfldMasterController.prototype.onInit.call(this);this._page=this.getView().byId("PAYSLIP_MASTER_PAGE");if(jQuery.device.is.phone){this.getView().addEventDelegate({onBeforeShow:jQuery.proxy(this.onBeforeShow,this)},this)}},onBeforeShow:function(){if(this._lastScrollY!=null){this._page.scrollTo(this._lastScrollY,10)}},applySearchPatternToListItem:function(i,f){if(f==""){return true}if((i.getIntro()&&i.getIntro().toLowerCase().indexOf(f)!=-1)||(i.getTitle()&&i.getTitle().toLowerCase().indexOf(f)!=-1)||(i.getNumber()&&i.getNumber().toLowerCase().indexOf(f)!=-1)||(i.getNumberUnit()&&i.getNumberUnit().toLowerCase().indexOf(f)!=-1)||(i.getFirstStatus()&&i.getFirstStatus().getText().toLowerCase().indexOf(f)!=-1)||(i.getSecondStatus()&&i.getSecondStatus().getText().toLowerCase().indexOf(f)!=-1)){return true}var a=i.getAttributes();for(var j=0;j<a.length;j++){if(a[j].getText().toLowerCase().indexOf(f)!=-1){return true}}return false},getHeaderFooterOptions:function(){return{sI18NMasterTitle:"DISPLAY_NAME_LIST"}},setListItem:function(i){var l=this.getList();l.removeSelections();i.setSelected(true);l.setSelectedItem(i,true);if(jQuery.device.is.desktop){this.oRouter.navTo("detail",{from:i.getTitle(),contextPath:i.getBindingContext().sPath.substr(1)},!jQuery.device.is.phone)}else{this.oRouter.navTo("detail_p",{from:i.getTitle(),contextPath:i.getBindingContext().sPath.substr(1)},!jQuery.device.is.phone)}},numberFormat:function(n){try{if(!isNaN(parseFloat(n))&&isFinite(n)){var a=sap.ca.ui.model.format.NumberFormat.getInstance();return a.format(n)}}catch(e){jQuery.sap.log.warning(n+" couldn't be formatted to Number","numberFormat in S2 Controller","Payslip")}return n}});
