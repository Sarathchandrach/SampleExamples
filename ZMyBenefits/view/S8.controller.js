/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseDetailController");jQuery.sap.require("hcm.emp.mybenefits.util.Formatter");jQuery.sap.require("hcm.emp.mybenefits.util.Utilities");sap.ca.scfld.md.controller.BaseDetailController.extend("hcm.emp.mybenefits.view.S8",{extHookInitAdditionalTabs:null,extHookChangeFooterButtons:null,onInit:function(){sap.ca.scfld.md.controller.BaseDetailController.prototype.onInit.call(this);this.oDataModel=this.oApplicationFacade.getODataModel();this.resourceBundle=this.oApplicationFacade.getResourceBundle();hcm.emp.mybenefits.util.DataManager.init(this.oDataModel,this.resourceBundle);this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="Unenrolled"){hcm.emp.mybenefits.util.DataManager.init(this.oDataModel,this.resourceBundle);e.getParameter("arguments").contextPath=decodeURIComponent(e.getParameter("arguments").contextPath);var _=this;var c=decodeURIComponent(e.getParameter("arguments").contextPath);var i=c.split("/")[1];var b=hcm.emp.mybenefits.util.DataManager.getCachedModelObjProp("benefitsPlan");if(b){var a=b.Benefits[i];var o=_.byId("MB_UE_HEADER");o.setTitle(a.PlanTypeText);_.byId("MB_PLAN_SUB_TYPE_TEXT").setText(a.PlanSubTypeText);_.byId("MB_PLAN_OPTION_TEXT").setText(a.PlanOptionText)}}},this);var v=this.getView();this.oTabBar=v.byId("TabContainer");if(this.extHookInitAdditionalTabs){this.extHookInitAdditionalTabs(this.oTabBar)}},onSenderPress:function(e){var p=e.oSource.oBindingContexts.attachmentsModel.getProperty().UrlPlan;sap.m.URLHelper.redirect(p,true)},getHeaderFooterOptions:function(){var o={sI18NDetailTitle:this.resourceBundle.getText("MB_APP_DETAIL_TITLE"),oAddBookmarkSettings:{title:this.resourceBundle.getText("MB_APP_TITLE"),icon:"sap-icon://family-care"}};if(this.extHookChangeFooterButtons){o=this.extHookChangeFooterButtons(o)};return o}});
