/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("hcm.emp.mybenefits.util.Formatter");jQuery.sap.declare("hcm.emp.mybenefits.util.DataManager");hcm.emp.mybenefits.util.DataManager=(function(){var _=null;var a=null;var b={};b.exist=true;return{init:function(d,o){_=d;_.setCountSupported(false);a=o},getBaseODataModel:function(){return _},setCachedModelObjProp:function(p,c){b[p]=c},getCachedModelObjProp:function(p){return b[p]},getMasterList:function(r,d,f,s,e){var p="Benefits";if(!b.benefitsPlan.length||r||d){this._getOData(p,null,f,jQuery.proxy(function(o){this.setCachedModelObjProp("benefitsPlan",o.results);s(o.results)},this),function(o){e(o)})}else{s(b.benefitsPlan.Benefits)}},getbothMasterList:function(f,s,e){var p="Benefits";this._getOData(p,null,f,function(o){var c=hcm.emp.mybenefits.util.DataManager.getCachedModelObjProp("benefitsPlan");$.merge(c.Benefits,o.results);s(c)},function(o){e(o)})},getHealthDependants:function(c,d,s,e){var u=d.__metadata.id;var p=u.slice(u.indexOf("/Benefits"),u.length);var P=['$expand=Dependants'];this._getOData(p,null,P,function(o){jQuery.proxy(s(o),c)},function(o){e(o)})},getBeneficiaries:function(c,d,s,e){var u=d.__metadata.id;var p=u.slice(u.indexOf("/Benefits"),u.length);var P=['$expand=Beneficiary'];this._getOData(p,null,P,function(o){jQuery.proxy(s(o),c)},function(o){e(o)})},getInvestment:function(c,d,s,e){var u=d.__metadata.id;var p=u.slice(u.indexOf("/Benefits"),u.length);var P=['$expand=Investment'];this._getOData(p,null,P,function(o){jQuery.proxy(s(o),c)},function(o){e(o)})},getMasterListonDateChange:function(f,s,e){var p="Benefits";this._getOData(p,null,f,function(o){s(o.results)},function(o){e(o)})},parseErrorMessages:function(o){if(o.response.body){try{var r=JSON.parse(o.response.body);if(r.error&&r.error.message&&r.error.message.value){var c=[];c.push(r.error.message.value);if(r.error.innererror&&r.error.innererror.errordetails&&r.error.innererror.errordetails instanceof Array){for(var i=0;i<r.error.innererror.errordetails.length;i++){if(r.error.innererror.errordetails[i].message){var m=r.error.innererror.errordetails[i].message;if(r.error.innererror.errordetails[i].code){m+=" ["+r.error.innererror.errordetails[i].code+"]"}if(r.error.innererror.errordetails[i].severity){m+=" ("+r.error.innererror.errordetails[i].severity+")"}c.push(m)}}}return c}}catch(e){}}else{return[a.getText("LR_DD_COMM_ERR")+o.message]}},_getOData:function(p,c,u,s,e){_.read(p,c,u,true,function(r){s(r)},function(r){e(r)})}}}());
